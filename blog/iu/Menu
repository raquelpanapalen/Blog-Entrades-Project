/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package edu.upc.etsetb.poo.blog.iu;

import edu.upc.etsetb.poo.blog.controlador.Controlador;
import edu.upc.etsetb.poo.blog.serveis.IO;
import edu.upc.etsetb.poo.blog.excepcions.BlogException;
/**
 *
 * @author silvi
 */
public abstract class Menu {
    protected Controlador contr;
    
    public Menu(Controlador contr){
        this.contr= contr;
    }
    
    public abstract void mostraOpcions();
    
    public String demanaOpcio(){
        String op="";
        IO.mostraText("Introdueix una opció: ");
        op = IO.llegeixText().toLowerCase().trim();
        return op;
    }
    
    //Per cada valor d'op, executa el mètode corresponent del controlador.
    public abstract void executaOpcio(String op) throws BlogException;
    
    //Cicle principal d'execució: mostra opcions, llegeix opcio i executa opcio.
    public void cicle(){
        String op="";
        while (!(op.equalsIgnoreCase("f") || op.equalsIgnoreCase("fi"))){
            mostraOpcions();            
            op=demanaOpcio();
            try{
                executaOpcio(op);
            }catch(BlogException e){
                IO.mostraText("Opció incorrecta!\n");
            }        
        }
    }
}
