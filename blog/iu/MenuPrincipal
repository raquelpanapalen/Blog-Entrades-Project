/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package edu.upc.etsetb.poo.blog.iu;

import edu.upc.etsetb.poo.blog.excepcions.BlogException;
import edu.upc.etsetb.poo.blog.controlador.Controlador;
import edu.upc.etsetb.poo.blog.serveis.IO;
/**
 *
 * @author silvi
 */
public class MenuPrincipal extends Menu{
    
    public MenuPrincipal(Controlador contr){
        super(contr);
    }

    @Override
    public void mostraOpcions() {
        System.out.println("Opcions:\n\tvisitant\n\tinicia sessio\n\tregistra't\n\tfi");
    }

    @Override
    public void executaOpcio(String op) throws BlogException {
        if (!(op.equals(""))) {
            String[] parts = op.split(" ");
            if (op.charAt(0)=='v' && "visitant".contains(op))
                contr.visitant();

            else if (op.charAt(0)=='i' && "inicia".contains(parts[0])){
                try{
                    contr.sessio();
                }catch(BlogException e){
                    System.out.println("Usuari o password incorrecte!");
                }
            }
                

            else if (op.charAt(0)=='r' && "registra't".contains(op))
                contr.registre();

            else if (op.charAt(0)=='f' && "fi".contains(parts[0]))
                System.out.println("Adeu!");
            else                
                throw new BlogException();
        }
        else
            throw new BlogException();
    }   
}
