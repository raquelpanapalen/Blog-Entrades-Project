/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package edu.upc.etsetb.poo.blog.iu;

import edu.upc.etsetb.poo.blog.excepcions.BlogException;
import edu.upc.etsetb.poo.blog.controlador.Controlador;
import edu.upc.etsetb.poo.blog.serveis.IO;
/**
 *
 * @author silvi
 */
public class MenuRegistrat extends Menu{

    public MenuRegistrat(Controlador contr){
        super(contr);
    }

    @Override
    public void mostraOpcions() {
        System.out.print("Opcions:\n\tindex\n\tmostra <num>\n\tnova\n\telimina <num>\n\tordena\n\tdates\n\ttotes\n\tfi\nIntrodueix una opci√≥: ");
    }

    @Override
    public void executaOpcio(String op) throws BlogException{
        if (!(op.equals(""))) {
            String[] parts = op.split(" ");
            if (op.charAt(0)=='i' && "index".contains(op))
                contr.index();

            else if (op.charAt(0)=='n' && "nova".contains(op))
                contr.novaEntrada();

            else if (op.charAt(0)=='o' && "ordena".contains(op))
                contr.ordena();

            else if (op.charAt(0)=='d' && "dates".contains(op))
                contr.dates();

            else if (op.charAt(0)=='t' && "totes".contains(op))
                contr.mostraEntrades();

            else if (op.charAt(0)=='m' && "mostra".contains(parts[0])
                    && parts.length==2)
                contr.mostraEntrada(Integer.parseInt(parts[1]));

            else if (op.charAt(0)=='e' && "elimina".contains(parts[0])
                    && parts.length==2)
                contr.eliminaEntrada(Integer.parseInt(parts[1]));

            else if (op.charAt(0)=='f' && "fi".contains(op))
                IO.mostraText("Adeu!\n");

            else                
                throw new BlogException();
        }
        else
            throw new BlogException();
    }
    
}
